<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>STINGRAY â€“ System Fonts Only</title>
  <style>
    :root {
      --base-font: system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
      --txt: #000000; /* Changed to black */
      --accent: #002C73; /* Changed burst color */
      --trans-dur: 180ms;
      --ease: cubic-bezier(.25, 1.15, .5, 1);
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
      background: #fff;
      color: var(--txt);
      font-family: var(--base-font);
      padding: 24px;
    }
    h1 {
      font-family: var(--base-font);
      font-weight: 700;
      font-size: clamp(28px, 6vw, 64px);
      line-height: 1.15;
      letter-spacing: 0.015em;
      margin: 0;
      user-select: none;
      -webkit-user-select: none;
    }
    .letter {
      display: inline-block;
      position: relative;
      cursor: default;
      transition: transform var(--trans-dur) var(--ease), color var(--trans-dur) var(--ease);
      will-change: transform;
    }
    .letter:hover,
    .letter.burst {
      transform: translateY(-1px) scale(1.02);
      color: var(--accent);
    }
    .letter.space {
      width: 0.4em;
    }
    @media (prefers-reduced-motion: reduce) {
      .letter {
        transition: none;
      }
      .letter:hover,
      .letter.burst {
        color: inherit;
        transform: none;
      }
    }
  </style>
</head>
<body>
  <h1 id="heading">STINGRAY</h1>

  <script>
    (function () {
      const heading = document.getElementById('heading');

      const fonts = [
        "'Arial Black', Arial, sans-serif",
        "'Trebuchet MS', Tahoma, Verdana, sans-serif",
        "'Courier New', Courier, monospace",
        "Georgia, 'Times New Roman', serif",
        "'Lucida Console', Monaco, monospace",
        "Impact, Haettenscheweiler, 'Arial Narrow Bold', sans-serif"
      ];

      const intervalMs = 300;
      const resetDelayMs = 120;
      const groupResetDelay = 300;
      const staggerMs = 60;

      function wrapLetters(el) {
        const text = el.textContent;
        el.textContent = '';
        const frag = document.createDocumentFragment();
        for (const ch of text) {
          const span = document.createElement('span');
          span.className = 'letter';
          if (ch === ' ') {
            span.classList.add('space');
            span.textContent = '\u00A0';
          } else {
            span.textContent = ch;
          }
          frag.appendChild(span);
        }
        el.appendChild(frag);
      }

      wrapLetters(heading);

      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const letters = Array.from(heading.querySelectorAll('.letter'));
      const states = letters.map(el => ({
        el, step: 0, hovered: false, lastSwitch: 0,
        resetAt: null, burstAt: null, burstActive: false, burstResetAt: null
      }));

      function bump(state, t) {
        state.step = (state.step + 1) % fonts.length;
        state.el.style.fontFamily = fonts[state.step];
        state.lastSwitch = t;
      }

      function onEnter(e) {
        const i = letters.indexOf(e.currentTarget);
        const s = states[i];
        s.hovered = true;
        s.resetAt = null;
        s.burstResetAt = null;
        s.el.classList.remove('burst');
        bump(s, performance.now());
      }

      function onLeave(e) {
        const i = letters.indexOf(e.currentTarget);
        const s = states[i];
        s.hovered = false;
        s.resetAt = performance.now() + resetDelayMs;
      }

      letters.forEach(el => {
        el.addEventListener('pointerenter', onEnter);
        el.addEventListener('pointerleave', onLeave);
        el.addEventListener('mouseenter', onEnter);
        el.addEventListener('mouseleave', onLeave);
      });

      function groupBurst() {
        const now = performance.now();
        states.forEach((s, i) => { s.burstAt = now + i * staggerMs; });
      }

      function clearAll() {
        states.forEach(s => {
          s.hovered = false;
          s.resetAt = null;
          s.burstAt = null;
          s.burstActive = false;
          s.burstResetAt = null;
          s.el.classList.remove('burst');
          s.el.style.fontFamily = '';
        });
      }

      heading.addEventListener('pointerenter', groupBurst);
      heading.addEventListener('mouseenter', groupBurst);
      heading.addEventListener('pointerleave', clearAll);
      heading.addEventListener('mouseleave', clearAll);

      function tick(t) {
        for (const s of states) {
          if (s.hovered && !prefersReduced && t - s.lastSwitch >= intervalMs) bump(s, t);
          if (!s.hovered && s.resetAt && t >= s.resetAt) {
            s.el.style.fontFamily = '';
            s.resetAt = null;
          }
          if (!s.hovered && s.burstAt && t >= s.burstAt) {
            bump(s, t);
            s.el.classList.add('burst');
            s.burstActive = true;
            s.burstResetAt = t + groupResetDelay;
            s.burstAt = null;
          }
          if (!s.hovered && s.burstActive && s.burstResetAt && t >= s.burstResetAt) {
            s.el.classList.remove('burst');
            s.el.style.fontFamily = '';
            s.burstActive = false;
            s.burstResetAt = null;
          }
        }
        requestAnimationFrame(tick);
      }

      requestAnimationFrame(tick);
    })();
  </script>
</body>
</html>